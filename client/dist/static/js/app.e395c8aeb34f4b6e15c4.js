webpackJsonp([1],{"+KFq":function(e,t){},"+c1V":function(e,t){},"1+k/":function(e,t){},"2To6":function(e,t){},"2cHC":function(e,t){},"7Bi/":function(e,t){},"89OM":function(e,t){},"90UU":function(e,t){},ATra:function(e,t){},HVLZ:function(e,t){},"La/B":function(e,t){},M80H:function(e,t){},MAyr:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("//Fk"),i=a.n(n),r=a("BO1k"),o=a.n(r),s=a("woOf"),l=a.n(s),c=a("7+uW"),d=a("ppUw"),u=a.n(d),m=a("mvHQ"),v=a.n(m),p=a("fZjL"),h=a.n(p),f=a("pFYg"),g=a.n(f),_=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],y=["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],b=function e(t){switch(void 0===t?"undefined":g()(t)){case"object":var a=!1;for(var n in t)if(!e(t[n])){a=!0;break}return!a;default:return null==t||0===t.toString().replace(/^\s+|\s+$/gm,"").length}},w=function(e){return e.replace(/^\s+|\s+$/g,"")},k=function(e){var t=(e=e instanceof Date?e:new Date(e)).getDate(),a=e.getMonth()+1,n=e.getFullYear();return[t.toString().padStart(2,"0"),a.toString().padStart(2,"0"),n].join("/")},x=function(e){var t=(e=e instanceof Date?e:new Date(e)).getHours(),a=t>12;return[(a?t-12:t).toString().padStart(2,"0"),e.getMinutes().toString().padStart(2,"0"),e.getSeconds().toString().padStart(2,"0")].join(":")+" "+(a?"pm":"am")},S=function(e){for(var t,a,n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890-_",i="";i.length<e;)i+=n.charAt((t=0,a=n.length-1,void 0?Math.random()*(a-t)+t:Math.ceil(Math.random()*(a-t)+t)));return i},$=function(e,t){var a={},n=!0,i=!1,r=void 0;try{for(var s,l=o()(h()(e[0]));!(n=(s=l.next()).done);n=!0){var c=s.value;a[c]=c}}catch(e){i=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(i)throw r}}e.unshift(a);var d,u,m,p=v()(e),f=(u="object"!=(void 0===(d=p)?"undefined":g()(d))?JSON.parse(d):d,m="",console.log(u),u.forEach(function(e){var t="";for(var a in e)t+=e[a],t+=",";t=t.substr(0,t.length-1),m+=t+"\r\n"}),m);console.log(f);var _=t||"export.csv",y=new Blob([f],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(y,_);else{var b=document.createElement("a");if(void 0!==b.download){var w=URL.createObjectURL(y);b.setAttribute("href",w),b.setAttribute("download",_),b.style.visibility="hidden",document.body.appendChild(b),b.click(),document.body.removeChild(b)}}},C={name:"userLogin",data:function(){return{nick:"",pass:"",error:"",sending:!1}},methods:{send:function(e){var t=this;this.sending=!0,this.error="",this.$root.axios.post("/user/login",v()({nick:this.nick,pass:this.pass})).then(function(e){200===e.data.code?t.$root.user.Build(l()({logged:!0},e.data.message)):t.error=e.data.message}).catch(function(e){t.$root.alert({text:"Ha ocurrido un error: "+e}),console.warn(e)}).finally(function(){t.sending=!1})}},computed:{withError:function(){return!b(this.error)}}},N={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("Logueo de Usuario")]),e._v(" "),a("form",{on:{submit:function(t){return t.preventDefault(),e.send(t)}}},[a("span",{on:{click:function(t){return e.$refs.nick.focus()}}},[e._v("Usuario: ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.nick,expression:"nick"}],ref:"nick",attrs:{type:"text",placeholder:"Nick",disabled:e.sending},domProps:{value:e.nick},on:{input:function(t){t.target.composing||(e.nick=t.target.value)}}}),e._v(" "),a("br"),e._v(" "),a("span",{on:{click:function(t){return e.$refs.pass.focus()}}},[e._v("Contraseña: ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pass,expression:"pass"}],ref:"pass",attrs:{type:"password",placeholder:"Contraseña",disabled:e.sending},domProps:{value:e.pass},on:{input:function(t){t.target.composing||(e.pass=t.target.value)}}}),e._v(" "),a("br"),e._v(" "),a("p",{staticClass:"error",class:{show:e.withError}},[e._v(e._s(e.error))]),e._v(" "),a("input",{attrs:{type:"submit",disabled:e.sending,value:"Iniciar sesión"}})])])},staticRenderFns:[]};var A=a("VU/8")(C,N,!1,function(e){a("MAyr")},"data-v-bd87f706",null).exports,D=a("T1ft"),P=a.n(D),M=(a("R870"),{name:"navMenu",data:function(){return{show:!1}},methods:{logout:function(){var e=this;this.$root.axios.post("/user/logout",v()({nick:this.$root.user.nick})).then(function(t){200===t.data.code?e.$root.user.Build({logged:!1}):e.$root.alert({text:t.data.message})}).catch(function(t){e.$root.alert({text:"Ha ocurrido un error: "+t}),console.warn(t)})}},components:{vSelect:P.a}}),E={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",[e._m(0),e._v(" "),a("ul",{class:{active:e.show}},[a("li",[a("router-link",{attrs:{to:"/"}},[e._v("Inicio")])],1),e._v(" "),e._l(e.$root.user.access,function(t,n){return a("li",{directives:[{name:"show",rawName:"v-show",value:"/article/assign"!=t.url,expression:"link.url != '/article/assign'"}],key:n},[a("router-link",{attrs:{to:t.url}},[e._v(e._s(t.name))])],1)}),e._v(" "),e.$root.user.logged?a("li",[a("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.logout(t)}}},[e._v("Salir")])]):e._e()],2),e._v(" "),a("div",{staticClass:"burger",on:{click:function(t){e.show=!e.show}}},[a("div"),e._v(" "),a("div"),e._v(" "),a("div")])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"logo"},[t("h4",[this._v("PINV")])])}]};var T=a("VU/8")(M,E,!1,function(e){a("yvyk")},"data-v-82bb26b4",null).exports,B={name:"Overlay",props:{node:Object},data:function(){return{style:"",modalOpacity:0,class:["layout","shadow"]}},methods:{close:function(){var e=this;console.log("Closing modal"),this.modalOpacity=0,setTimeout(function(){e.$root["remove"+e.node.type](e.node.key)},200)}},mounted:function(){var e=this;setTimeout(function(){e.modalOpacity=1},5)},computed:{modalClass:function(){return this.class.join(" ")},opacity:function(){return"opacity: "+this.modalOpacity}}},V={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"overlay",style:e.opacity,on:{click:function(t){return t.target!==t.currentTarget?null:e.close(t)}}},[a("div",{class:e.modalClass,style:e.style},[e.node.closeButton?[a("button",{on:{click:e.close}},[a("span",[e._v("x")])]),e._v(" "),a("hr")]:e._e(),e._v(" "),e._t("body")],2)])},staticRenderFns:[]};var F=a("VU/8")(B,V,!1,function(e){a("aLxa")},"data-v-3a05ac6b",null).exports,U={name:"Alert",props:{data:Object},methods:{close:function(){this.$children[0].close()}},computed:{button:function(){return this.data.button?this.data.button:"Aceptar"},node:function(){return{key:this.$vnode.key,type:"Alert"}}},mounted:function(){this.$refs.yes.focus()},components:{Overlay:F}},R={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Overlay",{attrs:{node:e.node}},[a("template",{slot:"body"},[a("p",[e._v("\n\t\t\t"+e._s(e.data.text)+"\n\t\t")]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"actions"},[a("input",{ref:"yes",attrs:{type:"button",value:e.button},on:{click:e.close}})])])],2)},staticRenderFns:[]};var O=a("VU/8")(U,R,!1,function(e){a("+c1V")},"data-v-7937a62c",null).exports,L={name:"Confirm",props:{data:Object},methods:{cancel:function(){"function"==typeof this.data.onCancel&&this.data.onCancel(),this.close()},close:function(){this.$children[0].close()},accept:function(){"function"==typeof this.data.callback&&this.data.callback(),this.close()}},computed:{button:function(){return l()({yes:"Aceptar",no:"Cancelar"},this.data.buttons?this.data.buttons:{})},node:function(){return{key:this.$vnode.key,type:"Confirm"}}},mounted:function(){this.$refs.yes.focus()},components:{Overlay:F}},j={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Overlay",{attrs:{node:e.node}},[a("template",{slot:"body"},[a("p",[e._v("\n\t\t\t"+e._s(e.data.text)+"\n\t\t")]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"actions"},[a("input",{attrs:{type:"button",value:e.button.no},on:{click:e.cancel}}),e._v(" "),a("input",{ref:"yes",attrs:{type:"button",value:e.button.yes},on:{click:e.accept}})])])],2)},staticRenderFns:[]};var G=a("VU/8")(L,j,!1,function(e){a("90UU")},"data-v-679c458c",null).exports,q={name:"Promt",props:{data:Object},data:function(){return{value:""}},methods:{cancel:function(){"function"==typeof this.data.onCancel&&this.data.onCancel(),this.close()},close:function(){this.$children[0].close()},accept:function(){"function"==typeof this.data.callback&&this.data.callback(this.value),this.close()}},computed:{button:function(){return l()({yes:"Aceptar",no:"Cancelar"},this.data.buttons?this.data.buttons:{})},node:function(){return{key:this.$vnode.key,type:"Prompt"}}},mounted:function(){this.$refs.field.focus()},components:{Overlay:F}},H={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Overlay",{attrs:{node:e.node}},[a("template",{slot:"body"},[a("p",[e._v("\n\t\t\t"+e._s(e.data.text)+"\n\t\t")]),e._v(" "),a("br"),e._v(" "),"checkbox"===(e.data.type?e.data.type:"text")?a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"field",staticClass:"field",attrs:{placeholder:e.data.placeholder?e.data.placeholder:null,maxlength:e.data.maxlength?e.data.maxlength:null,max:e.data.max?e.data.max:null,min:e.data.min?e.data.min:null,type:"checkbox"},domProps:{checked:Array.isArray(e.value)?e._i(e.value,null)>-1:e.value},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.accept(t)},change:function(t){var a=e.value,n=t.target,i=!!n.checked;if(Array.isArray(a)){var r=e._i(a,null);n.checked?r<0&&(e.value=a.concat([null])):r>-1&&(e.value=a.slice(0,r).concat(a.slice(r+1)))}else e.value=i}}}):"radio"===(e.data.type?e.data.type:"text")?a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"field",staticClass:"field",attrs:{placeholder:e.data.placeholder?e.data.placeholder:null,maxlength:e.data.maxlength?e.data.maxlength:null,max:e.data.max?e.data.max:null,min:e.data.min?e.data.min:null,type:"radio"},domProps:{checked:e._q(e.value,null)},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.accept(t)},change:function(t){e.value=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"field",staticClass:"field",attrs:{placeholder:e.data.placeholder?e.data.placeholder:null,maxlength:e.data.maxlength?e.data.maxlength:null,max:e.data.max?e.data.max:null,min:e.data.min?e.data.min:null,type:e.data.type?e.data.type:"text"},domProps:{value:e.value},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.accept(t)},input:function(t){t.target.composing||(e.value=t.target.value)}}}),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"actions"},[a("input",{attrs:{type:"button",value:e.button.no},on:{click:e.cancel}}),e._v(" "),a("input",{attrs:{type:"button",value:e.button.yes},on:{click:e.accept}})])])],2)},staticRenderFns:[]};var I=a("VU/8")(q,H,!1,function(e){a("7Bi/")},"data-v-203a05a7",null).exports,z={name:"Alert",props:{data:Object},methods:{close:function(){this.$children[0].close()}},computed:{isSuccess:function(){return"success"==this.data.type},node:function(){return{key:this.$vnode.key,type:"Window",closeButton:!0}}},components:{Overlay:F}},W={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Overlay",{attrs:{node:e.node}},[a("template",{slot:"body"},[a("div",[e.data.title?a("p",{staticClass:"title"},[e._v("\n\t\t\t\t"+e._s(e.data.title)+"\n\t\t\t")]):e._e(),e._v(" "),e.data.title?a("br"):e._e(),e._v(" "),e.isSuccess?[a("div",{staticClass:"checkmark-circle"},[a("div",{staticClass:"background"}),e._v(" "),a("div",{staticClass:"checkmark draw"})])]:[a("div",{staticClass:"sa"},[a("div",{staticClass:"sa-error"},[a("div",{staticClass:"sa-error-x"},[a("div",{staticClass:"sa-error-left"}),e._v(" "),a("div",{staticClass:"sa-error-right"})]),e._v(" "),a("div",{staticClass:"sa-error-placeholder"}),e._v(" "),a("div",{staticClass:"sa-error-fix"})])])],e._v(" "),a("br"),e._v(" "),a("p",{staticClass:"message"},[e._v(e._s(e.data.message))])],2)])],2)},staticRenderFns:[]};var J={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("p",[this._v("Copyright © Jorman Fernandez - 2019")])])}]};var Y={name:"App",data:function(){return{visible:"",timmer:null}},components:{userLogin:A,navMenu:T,Alert:O,Confirm:G,Prompt:I,Window:a("VU/8")(z,W,!1,function(e){a("P8fG")},"data-v-74160c21",null).exports,Footer:a("VU/8")({name:"Footer"},J,!1,function(e){a("89OM")},"data-v-01fc6d7a",null).exports},methods:{scrollTop:function(){window.scrollTo({top:0,behavior:"smooth"})}},computed:{upBtnVisible:function(){return this.$root.scrollTop}},watch:{upBtnVisible:function(e){var t=this;this.timmer&&clearTimeout(this.timmer),e?(this.visible="display: block;",this.timmer=setTimeout(function(){t.visible="display: block; opacity: 1"},10)):(this.visible="display: block; opacity: 0",this.timmer=setTimeout(function(){t.visible=null},250))}}},K={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("navMenu"),e._v(" "),a("hr"),e._v(" "),e.$root.user.logged?a("div",[a("keep-alive",[e.$root.routeAvailable?a("div",[a("keep-alive",[a("router-view")],1)],1):a("div",[a("p",[e._v("\n          Lo siento, "+e._s(e.$root.user.nick)+". No puede acceder a esta ruta\n        ")])])])],1):a("div",[a("userLogin")],1),e._v(" "),a("button",{staticClass:"up-btn",style:e.visible,on:{click:e.scrollTop}},[e._v("\n    Arriba\n  ")]),e._v(" "),a("Footer"),e._v(" "),e._l(e.$root.confirms,function(e){return a("Confirm",{key:e.id,attrs:{data:e}})}),e._v(" "),e._l(e.$root.prompts,function(e){return a("Prompt",{key:e.id,attrs:{data:e}})}),e._v(" "),e._l(e.$root.windows,function(e){return a("Window",{key:e.id,attrs:{data:e}})}),e._v(" "),e._l(e.$root.alerts,function(e){return a("Alert",{key:e.id,attrs:{data:e}})})],2)},staticRenderFns:[]};var Z=a("VU/8")(Y,K,!1,function(e){a("szlX")},"data-v-003c8208",null).exports,X=a("/ocq"),Q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper"},[a("h1",[e._v("\n  \tBienvenido, "+e._s(e.$root.user.nick)+"\n  ")]),e._v(" "),a("hr"),e._v(" "),a("div",{staticClass:"access"},e._l(e.$root.user.access,function(t,n){return a("div",{key:n,staticClass:"row"},[a("router-link",{attrs:{to:t.url}},[e._v(e._s(t.name))])],1)}),0)])},staticRenderFns:[]};var ee=a("VU/8")({name:"index"},Q,!1,function(e){a("gCw+")},"data-v-66ec43de",null).exports,te={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"not-found"},[a("br"),e._v(" "),a("div",{staticClass:"where-am-i"}),e._v(" "),a("p",{staticClass:"title"},[e._v('Ruta "'),a("u",[a("i",[a("b",[e._v(e._s(this.$route.path))])])]),e._v('" no encontrada')]),e._v(" "),a("p",[e._v("No hemos encontrado la ruta a la cual quieres acceder")]),e._v(" "),a("router-link",{attrs:{to:"/"}},[e._v("Inicio")])],1)},staticRenderFns:[]};var ae=a("VU/8")({name:"notFound"},te,!1,function(e){a("UBPM")},"data-v-70a7a97d",null).exports,ne={name:"personCreate",data:function(){return{nombre:"",apellido:"",cedula:null,isSending:!1}},methods:{submit:function(){var e=this;return this.isSending=!0,this.nombre=w(this.nombre),this.apellido=w(this.apellido),this.cedula<5e5?(this.isSending=!1,void this.$root.alert({text:"La cedula no es valida"})):b(this.nombre)||b(this.apellido)?(this.isSending=!1,void this.$root.alert({text:"El nombre y apellido no pueden estar vacios"})):void this.$root.confirm({text:"¿Desea agregar a "+this.nombre+" "+this.apellido,callback:function(){e.$root.axios.put("/person/",v()({nombre:e.nombre,apellido:e.apellido,cedula:e.cedula})).then(function(t){200===t.data.code?(e.$root.window({type:"success",message:e.nombre+" "+e.apellido+" fue añadido exitosamente"}),e.nombre="",e.apellido="",e.cedula=""):e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){return e.isSending=!1})},onCancel:function(){return e.isSending=!1},buttons:{yes:"Ingresar"}})}}},ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("\n    Ingreso de personas\n  ")]),e._v(" "),a("hr"),e._v(" "),a("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[a("label",[a("span",[e._v("\n        Nombre\n      ")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.nombre,expression:"nombre"}],attrs:{type:"text",name:"nombre",placeholder:"Nombre",disabled:e.isSending},domProps:{value:e.nombre},on:{input:function(t){t.target.composing||(e.nombre=t.target.value)}}})]),e._v(" "),a("br"),e._v(" "),a("label",[a("span",[e._v("\n        Apellido\n      ")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.apellido,expression:"apellido"}],attrs:{type:"text",name:"apellido",placeholder:"Apellido",disabled:e.isSending},domProps:{value:e.apellido},on:{input:function(t){t.target.composing||(e.apellido=t.target.value)}}})]),e._v(" "),a("br"),e._v(" "),a("label",[a("span",[e._v("\n        Cedula\n      ")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.cedula,expression:"cedula"}],attrs:{type:"number",name:"cedula",placeholder:"Cedula",disabled:e.isSending},domProps:{value:e.cedula},on:{input:function(t){t.target.composing||(e.cedula=t.target.value)}}})]),e._v(" "),a("hr"),e._v(" "),a("input",{attrs:{type:"submit",value:"Guardar",disabled:e.isSending}})])])},staticRenderFns:[]};var re=a("VU/8")(ne,ie,!1,function(e){a("ATra")},"data-v-11523bd9",null).exports,oe={name:"personModify",data:function(){return{nombre:"",apellido:"",cedula:null,isSending:!1,list:[],loader:null,timmer:null,modifying:null}},methods:{newSearch:function(){this.list=[],this.modifying=null,this.search()},modify:function(){var e=this;return this.$root.blur(),this.isSending=!0,this.modifying.nombre=w(this.modifying.nombre),this.modifying.apellido=w(this.modifying.apellido),b(this.modifying.nombre)||b(this.modifying.apellido)?(this.$root.alert({text:"El nombre y apellido no pueden estar vacios"}),void(this.isSending=!0)):isNaN(this.modifying.cedula)||this.modifying.cedula<5e5?(this.$root.alert({text:"La cedula introducida es invalida"}),void(this.isSending=!0)):void this.$root.confirm({text:"¿Desea modificar a esta persona?",onCancel:function(){return e.isSending=!1},callback:function(){e.$root.axios.patch("/person",v()({nombre:e.modifying.nombre,apellido:e.modifying.apellido,cedula:e.modifying.cedula,_id:e.modifying._id})).then(function(t){200===t.data.code?e.$root.window({message:"Los datos han sido actualizados exitosamente",type:"success"}):e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})}})},search:function(){var e=this;this.$root.blur(),this.isSending=!0;var t={};this.nombre=w(this.nombre),this.apellido=w(this.apellido),b(this.nombre)||(t.nombre=this.nombre),b(this.apellido)||(t.apellido=this.apellido),!isNaN(this.cedula)&&this.cedula>0&&(t.cedula=this.cedula),this.list.length>0&&(t.last=this.list[this.list.length-1]._id),this.$root.axios.get("/person/",{params:t}).then(function(t){200===t.data.code?e.list=e.list.concat(t.data.message):e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})}},watch:{isSending:function(e){var t=this;this.timmer&&clearTimeout(this.timmer),e?(this.loader="display: block;",this.timmer=setTimeout(function(){t.loader="display: block; opacity: 1"},10)):(this.loader="display: block; opacity: 0",this.timmer=setTimeout(function(){t.loader=null},250))}},created:function(){this.newSearch()}},se={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper"},[a("h1",[e._v("\n    Busqueda de personas\n  ")]),e._v(" "),a("hr"),e._v(" "),a("form",{on:{submit:function(t){return t.preventDefault(),e.newSearch(t)}}},[a("label",[a("span",[e._v("\n        Nombre\n      ")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.nombre,expression:"nombre"}],attrs:{type:"text",name:"nombre",placeholder:"Nombre",disabled:e.isSending},domProps:{value:e.nombre},on:{input:function(t){t.target.composing||(e.nombre=t.target.value)}}})]),e._v(" "),a("br"),e._v(" "),a("label",[a("span",[e._v("\n        Apellido\n      ")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.apellido,expression:"apellido"}],attrs:{type:"text",name:"apellido",placeholder:"Apellido",disabled:e.isSending},domProps:{value:e.apellido},on:{input:function(t){t.target.composing||(e.apellido=t.target.value)}}})]),e._v(" "),a("br"),e._v(" "),a("label",[a("span",[e._v("\n        Cedula\n      ")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.cedula,expression:"cedula"}],attrs:{type:"number",name:"cedula",placeholder:"Cedula",disabled:e.isSending},domProps:{value:e.cedula},on:{input:function(t){t.target.composing||(e.cedula=t.target.value)}}})]),e._v(" "),a("hr"),e._v(" "),a("input",{attrs:{type:"submit",value:"Buscar",disabled:e.isSending}})]),e._v(" "),a("br"),e._v(" "),a("hr"),e._v(" "),e.modifying?[a("div",{staticClass:"modify"},[a("h1",[e._v("\n        Modificando a "+e._s(e.modifying.nombre)+" "+e._s(e.modifying.apellido)+"\n      ")]),e._v(" "),a("form",{on:{submit:function(t){return t.preventDefault(),e.modify(t)}}},[a("label",[a("span",[e._v("\n            Nombre\n          ")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.modifying.nombre,expression:"modifying.nombre"}],attrs:{type:"text",name:"nombre",placeholder:"Nombre",disabled:e.isSending},domProps:{value:e.modifying.nombre},on:{input:function(t){t.target.composing||e.$set(e.modifying,"nombre",t.target.value)}}})]),e._v(" "),a("br"),e._v(" "),a("label",[a("span",[e._v("\n            Apellido\n          ")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.modifying.apellido,expression:"modifying.apellido"}],attrs:{type:"text",name:"apellido",placeholder:"Apellido",disabled:e.isSending},domProps:{value:e.modifying.apellido},on:{input:function(t){t.target.composing||e.$set(e.modifying,"apellido",t.target.value)}}})]),e._v(" "),a("br"),e._v(" "),a("label",[a("span",[e._v("\n            Cedula\n          ")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.modifying.cedula,expression:"modifying.cedula"}],attrs:{type:"number",name:"cedula",placeholder:"Cedula",disabled:e.isSending},domProps:{value:e.modifying.cedula},on:{input:function(t){t.target.composing||e.$set(e.modifying,"cedula",t.target.value)}}})]),e._v(" "),a("hr"),e._v(" "),a("input",{attrs:{type:"submit",value:"Modificar",disabled:e.isSending}})])])]:[e.list.length<1?[a("p",[e._v("No se encontraron resultados")])]:a("div",{staticClass:"person-list"},[e._l(e.list,function(t){return a("div",{key:t._id,staticClass:"person"},[a("p",{staticClass:"header"},[e._v(e._s(t.nombre)+" "+e._s(t.apellido))]),e._v(" "),a("div",[a("span",[e._v("Cedula: "+e._s(t.cedula))]),e._v(" "),a("a",{on:{click:function(a){a.preventDefault(),e.modifying=t}}},[e._v("Modificar")])])])}),e._v(" "),a("input",{attrs:{type:"button",value:"Buscar mas"},on:{click:e.search}})],2)],e._v(" "),a("div",{staticClass:"overlay",style:e.loader},[a("img",{attrs:{src:"/static/assets/loading.gif"}})])],2)},staticRenderFns:[]};var le=a("VU/8")(oe,se,!1,function(e){a("sm2C")},"data-v-9c796916",null).exports,ce={name:"userCreate",data:function(){return{username:"",pwd:"",access:[],cedula:null,isSending:!1,showPwd:!1}},methods:{markAll:function(){this.$root.blur();var e=document.querySelectorAll("input[type='checkbox']"),t={marked:[],unmarked:[]};e.forEach(function(e){t[e.checked?"marked":"unmarked"].push(e)}),t.marked.length<e.length?t.unmarked.forEach(function(e){e.click()}):t.marked.forEach(function(e){e.click()})},submit:function(){var e=this;return this.$root.blur(),this.isSending=!0,this.username=w(this.username),this.pwd=w(this.pwd),b(this.username)?(this.isSending=!1,void this.$root.alert({text:"El nick no puede estar vacio"})):b(this.pwd)?(this.isSending=!1,void this.$root.alert({text:"La contraseña no puede estar vacia"})):isNaN(this.cedula)||this.cedula<5e5?(this.isSending=!1,void this.$root.alert({text:"La cedula que ingreso es invalida"})):void this.$root.confirm({text:"¿Desea agregar a "+this.username+"?",onCancel:function(){return e.isSending=!1},buttons:{yes:"Si",no:"No"},callback:function(){e.$root.axios.put("/user",v()({username:e.username,pwd:e.pwd,cedula:e.cedula,access:e.access})).then(function(t){200===t.data.code?(e.$root.window({type:"success",message:e.username+" fue añadido exitosamente"}),e.username="",e.pwd="",e.access=[],e.cedula=""):e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){return e.isSending=!1})}})}},computed:{passwordField:function(){return this.showPwd?"text":"password"},routes:function(){var e=[];for(var t in this.access)e.push(this.access[t].url);return e}}},de={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("\n    Crear usuario\n  ")]),e._v(" "),a("hr"),e._v(" "),a("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[a("label",[a("span",[e._v("\n        Nick\n      ")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",name:"username",placeholder:"Nombre de Usuario",disabled:e.isSending},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),e._v(" "),a("br"),e._v(" "),a("label",[a("span",[e._v("\n        Contraseña\n      ")]),e._v(" "),a("br"),e._v(" "),"checkbox"===e.passwordField?a("input",{directives:[{name:"model",rawName:"v-model",value:e.pwd,expression:"pwd"}],attrs:{name:"password",placeholder:"Contraseña",disabled:e.isSending,type:"checkbox"},domProps:{checked:Array.isArray(e.pwd)?e._i(e.pwd,null)>-1:e.pwd},on:{change:function(t){var a=e.pwd,n=t.target,i=!!n.checked;if(Array.isArray(a)){var r=e._i(a,null);n.checked?r<0&&(e.pwd=a.concat([null])):r>-1&&(e.pwd=a.slice(0,r).concat(a.slice(r+1)))}else e.pwd=i}}}):"radio"===e.passwordField?a("input",{directives:[{name:"model",rawName:"v-model",value:e.pwd,expression:"pwd"}],attrs:{name:"password",placeholder:"Contraseña",disabled:e.isSending,type:"radio"},domProps:{checked:e._q(e.pwd,null)},on:{change:function(t){e.pwd=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.pwd,expression:"pwd"}],attrs:{name:"password",placeholder:"Contraseña",disabled:e.isSending,type:e.passwordField},domProps:{value:e.pwd},on:{input:function(t){t.target.composing||(e.pwd=t.target.value)}}}),e._v(" "),a("div",{staticClass:"pass-btn",on:{click:function(t){e.showPwd=!e.showPwd}}},[e._v(" ")])]),e._v(" "),a("br"),e._v(" "),a("label",[a("span",[e._v("\n        Cedula del usuario\n      ")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.cedula,expression:"cedula"}],attrs:{type:"number",name:"cedula",placeholder:"Cedula",disabled:e.isSending},domProps:{value:e.cedula},on:{input:function(t){t.target.composing||(e.cedula=t.target.value)}}})]),e._v(" "),a("br"),e._v(" "),a("p",[e._v("Lista de Accesos")]),e._v(" "),a("input",{attrs:{type:"button",value:"Marcar todos"},on:{click:e.markAll}}),e._v(" "),a("div",{staticClass:"access"},e._l(this.$root.routes,function(t,n){return a("div",{key:n,class:["row",{active:e.routes.indexOf(t.url)>-1}]},[a("label",{attrs:{for:"route"+t.url}},[a("p",[e._v("Permitir acceso a")]),e._v(" "),a("br"),e._v(" "),a("p",[e._v(e._s(t.name))])]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.access,expression:"access"}],attrs:{type:"checkbox",id:"route"+t.url},domProps:{value:t,checked:Array.isArray(e.access)?e._i(e.access,t)>-1:e.access},on:{change:function(a){var n=e.access,i=a.target,r=!!i.checked;if(Array.isArray(n)){var o=t,s=e._i(n,o);i.checked?s<0&&(e.access=n.concat([o])):s>-1&&(e.access=n.slice(0,s).concat(n.slice(s+1)))}else e.access=r}}})])}),0),e._v(" "),a("hr"),e._v(" "),a("input",{attrs:{type:"submit",value:"Guardar",disabled:e.isSending}})])])},staticRenderFns:[]};var ue=a("VU/8")(ce,de,!1,function(e){a("M80H")},"data-v-5ab5f126",null).exports,me={name:"userModify",data:function(){return{isSending:!1,modifying:null,modifyingPwd:null,modifyingNick:"",modifyingAccess:[],loader:null,timmer:null,list:[],cedula:null,nick:""}},methods:{setModify:function(e){this.modifying=e,this.modifyingAccess=l()([],e.access),this.modifyingNick=e.nick},newSearch:function(){this.list=[],this.modifying=null,this.search()},search:function(){var e=this;this.isSending=!0;var t={};b(this.nick)||(t.nick=w(this.nick)),!isNaN(this.cedula)&&this.cedula>5e5&&(t.cedula=this.cedula),this.list.length>0&&(t.last=this.list[this.list.length-1]._id),this.$root.axios.get("/user",{params:t}).then(function(t){200===t.data.code?e.list=e.list.concat(t.data.message):e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})},modify:function(){var e=this;this.$root.confirm({onCancel:function(){return e.isSending=!1},text:"¿Desea modificar a este usuario?",callback:function(){e.$root.axios.patch("/user",v()({nick:e.modifyingNick,_id:e.modifying._id,access:e.modifyingAccess,reset_pwd:!!e.modifyingPwd})).then(function(t){200===t.data.code?(e.$root.user.id==e.modifying._id&&setTimeout(function(){window.location.reload()},1500),e.$root.window({message:"Los datos han sido actualizados exitosamente",type:"success"})):e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})}})},markAll:function(){this.$root.blur();var e=document.querySelectorAll("div.access input[type='checkbox']"),t={marked:[],unmarked:[]};e.forEach(function(e){t[e.checked?"marked":"unmarked"].push(e)}),t.marked.length<e.length?t.unmarked.forEach(function(e){e.click()}):t.marked.forEach(function(e){e.click()})}},computed:{routes:function(){var e=[];for(var t in this.modifyingAccess)e.push(this.modifyingAccess[t].url);return e}},watch:{isSending:function(e){var t=this;this.timmer&&clearTimeout(this.timmer),e?(this.loader="display: block;",this.timmer=setTimeout(function(){t.loader="display: block; opacity: 1"},10)):(this.loader="display: block; opacity: 0",this.timmer=setTimeout(function(){t.loader=null},250))}},created:function(){this.newSearch()}},ve={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper"},[a("h1",[e._v("\n    Busqueda de usuarios\n  ")]),e._v(" "),a("hr"),e._v(" "),a("form",{on:{submit:function(t){return t.preventDefault(),e.newSearch(t)}}},[a("label",[a("span",[e._v("\n        Nick\n      ")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.nick,expression:"nick"}],attrs:{type:"text",placeholder:"Nombre del usuario",disabled:e.isSending},domProps:{value:e.nick},on:{input:function(t){t.target.composing||(e.nick=t.target.value)}}})]),e._v(" "),a("label",[a("span",[e._v("\n        Cedula\n      ")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.cedula,expression:"cedula"}],attrs:{type:"number",placeholder:"Cedula de quien posee el usuario",disabled:e.isSending},domProps:{value:e.cedula},on:{input:function(t){t.target.composing||(e.cedula=t.target.value)}}})]),e._v(" "),a("hr"),e._v(" "),a("input",{attrs:{type:"submit",value:"Buscar",disabled:e.isSending}})]),e._v(" "),a("br"),e._v(" "),a("hr"),e._v(" "),e.modifying?[a("form",{on:{submit:function(t){return t.preventDefault(),e.modify(t)}}},[a("label",[a("span",[e._v("\n          Nick\n        ")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.modifyingNick,expression:"modifyingNick"}],attrs:{type:"text",name:"username",placeholder:"Nombre de Usuario",disabled:e.isSending},domProps:{value:e.modifyingNick},on:{input:function(t){t.target.composing||(e.modifyingNick=t.target.value)}}})]),e._v(" "),a("br"),e._v(" "),a("div",{class:["row",{active:e.modifyingPwd}]},[a("label",[a("span",[e._v("\n            Reiniciar contraseña\n          ")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.modifyingPwd,expression:"modifyingPwd"}],attrs:{type:"checkbox",value:"reset"},domProps:{checked:Array.isArray(e.modifyingPwd)?e._i(e.modifyingPwd,"reset")>-1:e.modifyingPwd},on:{change:function(t){var a=e.modifyingPwd,n=t.target,i=!!n.checked;if(Array.isArray(a)){var r=e._i(a,"reset");n.checked?r<0&&(e.modifyingPwd=a.concat(["reset"])):r>-1&&(e.modifyingPwd=a.slice(0,r).concat(a.slice(r+1)))}else e.modifyingPwd=i}}})])]),e._v(" "),a("br"),e._v(" "),a("p",[e._v("Lista de Accesos")]),e._v(" "),a("input",{attrs:{type:"button",value:"Marcar todos"},on:{click:e.markAll}}),e._v(" "),a("div",{staticClass:"access"},e._l(e.$root.routes,function(t,n){return a("div",{key:n,class:["row",{active:e.routes.indexOf(t.url)>-1}]},[a("label",{attrs:{for:"route"+t.url}},[a("p",[e._v("Permitir acceso a")]),e._v(" "),a("br"),e._v(" "),a("p",[e._v(e._s(t.name))])]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.modifyingAccess,expression:"modifyingAccess"}],attrs:{type:"checkbox",id:"route"+t.url},domProps:{value:t,checked:Array.isArray(e.modifyingAccess)?e._i(e.modifyingAccess,t)>-1:e.modifyingAccess},on:{change:function(a){var n=e.modifyingAccess,i=a.target,r=!!i.checked;if(Array.isArray(n)){var o=t,s=e._i(n,o);i.checked?s<0&&(e.modifyingAccess=n.concat([o])):s>-1&&(e.modifyingAccess=n.slice(0,s).concat(n.slice(s+1)))}else e.modifyingAccess=r}}})])}),0),e._v(" "),a("hr"),e._v(" "),a("input",{attrs:{type:"submit",value:"Guardar",disabled:e.isSending}})])]:[e.list.length<1?[a("p",[e._v("No se encontraron resultados")])]:a("div",{staticClass:"user-list"},[e._l(e.list,function(t){return a("div",{key:t._id,staticClass:"user"},[a("p",{staticClass:"header"},[e._v(e._s(t.nick))]),e._v(" "),a("p",[e._v("\n          Pertenece a: "+e._s(t.person.nombre)+" "+e._s(t.person.apellido)+"\n        ")]),e._v(" "),a("p",[e._v("\n          Cedula: "+e._s(t.person.cedula)+"\n        ")]),e._v(" "),a("div",[a("a",{on:{click:function(a){return a.preventDefault(),e.setModify(t)}}},[e._v("Modificar")])])])}),e._v(" "),a("input",{attrs:{type:"button",value:"Buscar mas"},on:{click:e.search}})],2)],e._v(" "),a("div",{staticClass:"overlay",style:e.loader},[a("img",{attrs:{src:"/static/assets/loading.gif"}})])],2)},staticRenderFns:[]};var pe=a("VU/8")(me,ve,!1,function(e){a("yPYD")},"data-v-0ca64bea",null).exports,he={name:"categoryView",data:function(){return{list:[],modifying:null,newCat:"",searchCat:"",modCat:"",insert:!0,loader:null,timmer:null,isSending:!1}},methods:{setMod:function(e){this.modCat=e.nombre,this.modifying=e},save:function(){var e=this;if(this.$root.blur(),this.isSending=!0,this.newCat=w(this.newCat),b(this.newCat))return this.isSending=!1,void this.$root.alert({text:"El nombre de la categoria no puede estar vacio"});this.$root.confirm({onCancel:function(){return e.isSending=!1},text:"¿Desea crear la categoria "+this.newCat+"?",callback:function(){e.$root.axios.put("/category",v()({nombre:e.newCat})).then(function(t){200===t.data.code?(e.newCat="",e.$root.window({message:"Categoria creada exitosamente",type:"success"}),e.newSearch()):e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})},buttons:{yes:"Si",no:"No"}})},newSearch:function(){this.modifying=null,this.modCat="",this.list=[],this.search()},search:function(){var e=this;this.isSending=!0;var t={};b(this.searchCat)||(t.nombre=w(this.searchCat)),this.list.length>0&&(t.last=this.list[this.list.length-1]._id),this.$root.axios.get("/category",{params:t}).then(function(t){200===t.data.code?e.list=e.list.concat(t.data.message):e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})},modify:function(){var e=this;this.isSending=!0,this.modCat=w(this.modCat),b(this.modCat)?this.$root.alert({text:"El nombre de la categoria no puede estar vacio"}):this.$root.confirm({onCancel:function(){return e.isSending=!1},text:"¿Desea cambiar el nombre de la categoria a "+this.modCat+"?",callback:function(){e.$root.axios.patch("/category",v()({nombre:e.modCat,_id:e.modifying._id})).then(function(t){200===t.data.code?e.$root.window({message:"Categoria actualizada exitosamente",type:"success"}):e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})},buttons:{yes:"Si",no:"No"}})}},watch:{isSending:function(e){var t=this;this.timmer&&clearTimeout(this.timmer),e?(this.loader="display: block;",this.timmer=setTimeout(function(){t.loader="display: block; opacity: 1"},10)):(this.loader="display: block; opacity: 0",this.timmer=setTimeout(function(){t.loader=null},250))}}},fe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper"},[a("h1",{directives:[{name:"show",rawName:"v-show",value:e.insert,expression:"insert"}]},[e._v("\n    Añadir una nueva categoria\n  ")]),e._v(" "),a("h1",{directives:[{name:"show",rawName:"v-show",value:!e.insert,expression:"!insert"}]},[e._v("\n    Buscar una categoria\n  ")]),e._v(" "),a("hr"),e._v(" "),a("br"),e._v(" "),a("input",{attrs:{type:"button",value:"Presione para "+(e.insert?"Buscar":"Guardar")},on:{click:function(t){e.insert=!e.insert}}}),e._v(" "),a("form",{directives:[{name:"show",rawName:"v-show",value:e.insert,expression:"insert"}],on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[a("label",[a("span",[e._v("Nombre")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCat,expression:"newCat"}],attrs:{type:"text",placeholder:"Nombre de la categoria"},domProps:{value:e.newCat},on:{input:function(t){t.target.composing||(e.newCat=t.target.value)}}})]),e._v(" "),a("input",{attrs:{type:"submit",value:"Guardar"}})]),e._v(" "),a("form",{directives:[{name:"show",rawName:"v-show",value:!e.insert,expression:"!insert"}],on:{submit:function(t){return t.preventDefault(),e.newSearch(t)}}},[a("label",[a("span",[e._v("Nombre")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchCat,expression:"searchCat"}],attrs:{type:"text",placeholder:"Nombre de la categoria"},domProps:{value:e.searchCat},on:{input:function(t){t.target.composing||(e.searchCat=t.target.value)}}})]),e._v(" "),a("input",{attrs:{type:"submit",value:"Buscar"}})]),e._v(" "),a("br"),e._v(" "),a("hr"),e._v(" "),e.modifying?[a("form",{on:{submit:function(t){return t.preventDefault(),e.modify(t)}}},[a("label",[a("span",[e._v("Nombre")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.modCat,expression:"modCat"}],attrs:{type:"text",placeholder:"Nombre de la categoria"},domProps:{value:e.modCat},on:{input:function(t){t.target.composing||(e.modCat=t.target.value)}}})]),e._v(" "),a("input",{attrs:{type:"submit",value:"Modificar"}})])]:e.list.length>0?[a("div",{staticClass:"category-list"},[e._l(e.list,function(t){return a("div",{key:t._id,staticClass:"category"},[a("p",{staticClass:"header"},[e._v(e._s(t.nombre))]),e._v(" "),a("div",[a("a",{on:{click:function(a){return a.preventDefault(),e.setMod(t)}}},[e._v("Modificar")])])])}),e._v(" "),a("input",{attrs:{type:"button",value:"Buscar mas"},on:{click:e.search}})],2)]:[a("p",[e._v("No se han encontrado registros")])],e._v(" "),a("div",{staticClass:"overlay",style:e.loader},[a("img",{attrs:{src:"/static/assets/loading.gif"}})])],2)},staticRenderFns:[]};var ge=a("VU/8")(he,fe,!1,function(e){a("1+k/")},"data-v-2e00c35b",null).exports,_e={name:"markView",data:function(){return{list:[],modifying:null,newMark:"",searchMark:"",modMark:"",insert:!0,loader:null,timmer:null,isSending:!1}},methods:{setMod:function(e){this.modMark=e.nombre,this.modifying=e},save:function(){var e=this;if(this.$root.blur(),this.isSending=!0,this.newMark=w(this.newMark),b(this.newMark))return this.isSending=!1,void this.$root.alert({text:"El nombre de la marca no puede estar vacio"});this.$root.confirm({onCancel:function(){return e.isSending=!1},text:"¿Desea crear la marca "+this.newMark+"?",callback:function(){e.$root.axios.put("/mark",v()({nombre:e.newMark})).then(function(t){200===t.data.code?(e.newMark="",e.$root.window({message:"Marca creada exitosamente",type:"success"}),e.newSearch()):e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})},buttons:{yes:"Si",no:"No"}})},newSearch:function(){this.modifying=null,this.modMark="",this.list=[],this.search()},search:function(){var e=this;this.isSending=!0;var t={};b(this.searchMark)||(t.nombre=w(this.searchMark)),this.list.length>0&&(t.last=this.list[this.list.length-1]._id),this.$root.axios.get("/mark",{params:t}).then(function(t){200===t.data.code?e.list=e.list.concat(t.data.message):e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})},modify:function(){var e=this;this.isSending=!0,this.modMark=w(this.modMark),b(this.modMark)?this.$root.alert({text:"El nombre de la marca no puede estar vacio"}):this.$root.confirm({onCancel:function(){return e.isSending=!1},text:"¿Desea cambiar el nombre de la marca a "+this.modMark+"?",callback:function(){e.$root.axios.patch("/mark",v()({nombre:e.modMark,_id:e.modifying._id})).then(function(t){200===t.data.code?e.$root.window({message:"Marca actualizada exitosamente",type:"success"}):e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})},buttons:{yes:"Si",no:"No"}})}},watch:{isSending:function(e){var t=this;this.timmer&&clearTimeout(this.timmer),e?(this.loader="display: block;",this.timmer=setTimeout(function(){t.loader="display: block; opacity: 1"},10)):(this.loader="display: block; opacity: 0",this.timmer=setTimeout(function(){t.loader=null},250))}}},ye={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper"},[a("h1",{directives:[{name:"show",rawName:"v-show",value:e.insert,expression:"insert"}]},[e._v("\n    Añadir una nueva marca\n  ")]),e._v(" "),a("h1",{directives:[{name:"show",rawName:"v-show",value:!e.insert,expression:"!insert"}]},[e._v("\n    Buscar una marca\n  ")]),e._v(" "),a("hr"),e._v(" "),a("br"),e._v(" "),a("input",{attrs:{type:"button",value:"Presione para "+(e.insert?"Buscar":"Guardar")},on:{click:function(t){e.insert=!e.insert}}}),e._v(" "),a("form",{directives:[{name:"show",rawName:"v-show",value:e.insert,expression:"insert"}],on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[a("label",[a("span",[e._v("Nombre")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newMark,expression:"newMark"}],attrs:{type:"text",placeholder:"Nombre de la marca"},domProps:{value:e.newMark},on:{input:function(t){t.target.composing||(e.newMark=t.target.value)}}})]),e._v(" "),a("input",{attrs:{type:"submit",value:"Guardar"}})]),e._v(" "),a("form",{directives:[{name:"show",rawName:"v-show",value:!e.insert,expression:"!insert"}],on:{submit:function(t){return t.preventDefault(),e.newSearch(t)}}},[a("label",[a("span",[e._v("Nombre")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchMark,expression:"searchMark"}],attrs:{type:"text",placeholder:"Nombre de la marca"},domProps:{value:e.searchMark},on:{input:function(t){t.target.composing||(e.searchMark=t.target.value)}}})]),e._v(" "),a("input",{attrs:{type:"submit",value:"Buscar"}})]),e._v(" "),a("br"),e._v(" "),a("hr"),e._v(" "),e.modifying?[a("form",{on:{submit:function(t){return t.preventDefault(),e.modify(t)}}},[a("label",[a("span",[e._v("Nombre")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.modMark,expression:"modMark"}],attrs:{type:"text",placeholder:"Nombre de la marca"},domProps:{value:e.modMark},on:{input:function(t){t.target.composing||(e.modMark=t.target.value)}}})]),e._v(" "),a("input",{attrs:{type:"submit",value:"Modificar"}})])]:e.list.length>0?[a("div",{staticClass:"mark-list"},[e._l(e.list,function(t){return a("div",{key:t._id,staticClass:"mark"},[a("p",{staticClass:"header"},[e._v(e._s(t.nombre))]),e._v(" "),a("div",[a("a",{on:{click:function(a){return a.preventDefault(),e.setMod(t)}}},[e._v("Modificar")])])])}),e._v(" "),a("input",{attrs:{type:"button",value:"Buscar mas"},on:{click:e.search}})],2)]:[a("p",[e._v("No se han encontrado registros")])],e._v(" "),a("div",{staticClass:"overlay",style:e.loader},[a("img",{attrs:{src:"/static/assets/loading.gif"}})])],2)},staticRenderFns:[]};var be=a("VU/8")(_e,ye,!1,function(e){a("v++w")},"data-v-17a15a5e",null).exports,we={name:"departmentView",data:function(){return{list:[],modifying:null,newDep:"",searchDep:"",modDep:"",insert:!0,loader:null,timmer:null,isSending:!1}},methods:{setMod:function(e){this.modDep=e.nombre,this.modifying=e},save:function(){var e=this;if(this.$root.blur(),this.isSending=!0,this.newDep=w(this.newDep),b(this.newDep))return this.isSending=!1,void this.$root.alert({text:"El nombre del departamento no puede estar vacio"});this.$root.confirm({onCancel:function(){return e.isSending=!1},text:"¿Desea agregar el departamento "+this.newDep+"?",callback:function(){e.$root.axios.put("/department",v()({nombre:e.newDep})).then(function(t){200===t.data.code?(e.newDep="",e.$root.window({message:"Departamento creado exitosamente",type:"success"}),e.newSearch()):e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})},buttons:{yes:"Si",no:"No"}})},newSearch:function(){this.modifying=null,this.modDep="",this.list=[],this.search()},search:function(){var e=this;this.isSending=!0;var t={};b(this.searchDep)||(t.nombre=w(this.searchDep)),this.list.length>0&&(t.last=this.list[this.list.length-1]._id),this.$root.axios.get("/department",{params:t}).then(function(t){200===t.data.code?e.list=e.list.concat(t.data.message):e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})},modify:function(){var e=this;this.isSending=!0,this.modDep=w(this.modDep),b(this.modDep)?this.$root.alert({text:"El nombre del departamento no puede estar vacio"}):this.$root.confirm({onCancel:function(){return e.isSending=!1},text:"¿Desea cambiar el nombre del departamento a "+this.modDep+"?",callback:function(){e.$root.axios.patch("/department",v()({nombre:e.modDep,_id:e.modifying._id})).then(function(t){200===t.data.code?e.$root.window({message:"Departamento actualizado exitosamente",type:"success"}):e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})},buttons:{yes:"Si",no:"No"}})}},watch:{isSending:function(e){var t=this;this.timmer&&clearTimeout(this.timmer),e?(this.loader="display: block;",this.timmer=setTimeout(function(){t.loader="display: block; opacity: 1"},10)):(this.loader="display: block; opacity: 0",this.timmer=setTimeout(function(){t.loader=null},250))}}},ke={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper"},[a("h1",{directives:[{name:"show",rawName:"v-show",value:e.insert,expression:"insert"}]},[e._v("\n    Añadir un nuevo departamento\n  ")]),e._v(" "),a("h1",{directives:[{name:"show",rawName:"v-show",value:!e.insert,expression:"!insert"}]},[e._v("\n    Buscar un departamento\n  ")]),e._v(" "),a("hr"),e._v(" "),a("br"),e._v(" "),a("input",{attrs:{type:"button",value:"Presione para "+(e.insert?"Buscar":"Guardar")},on:{click:function(t){e.insert=!e.insert}}}),e._v(" "),a("form",{directives:[{name:"show",rawName:"v-show",value:e.insert,expression:"insert"}],on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[a("label",[a("span",[e._v("Nombre")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newDep,expression:"newDep"}],attrs:{type:"text",placeholder:"Nombre del departamento"},domProps:{value:e.newDep},on:{input:function(t){t.target.composing||(e.newDep=t.target.value)}}})]),e._v(" "),a("input",{attrs:{type:"submit",value:"Guardar"}})]),e._v(" "),a("form",{directives:[{name:"show",rawName:"v-show",value:!e.insert,expression:"!insert"}],on:{submit:function(t){return t.preventDefault(),e.newSearch(t)}}},[a("label",[a("span",[e._v("Nombre")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchDep,expression:"searchDep"}],attrs:{type:"text",placeholder:"Nombre del departamento"},domProps:{value:e.searchDep},on:{input:function(t){t.target.composing||(e.searchDep=t.target.value)}}})]),e._v(" "),a("input",{attrs:{type:"submit",value:"Buscar"}})]),e._v(" "),a("br"),e._v(" "),a("hr"),e._v(" "),e.modifying?[a("form",{on:{submit:function(t){return t.preventDefault(),e.modify(t)}}},[a("label",[a("span",[e._v("Nombre")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.modDep,expression:"modDep"}],attrs:{type:"text",placeholder:"Nombre del departamento"},domProps:{value:e.modDep},on:{input:function(t){t.target.composing||(e.modDep=t.target.value)}}})]),e._v(" "),a("input",{attrs:{type:"submit",value:"Modificar"}})])]:e.list.length>0?[a("div",{staticClass:"department-list"},[e._l(e.list,function(t){return a("div",{key:t._id,staticClass:"department"},[a("p",{staticClass:"header"},[e._v(e._s(t.nombre))]),e._v(" "),a("div",[a("a",{on:{click:function(a){return a.preventDefault(),e.setMod(t)}}},[e._v("Modificar")])])])}),e._v(" "),a("input",{attrs:{type:"button",value:"Buscar mas"},on:{click:e.search}})],2)]:[a("p",[e._v("No se han encontrado registros")])],e._v(" "),a("div",{staticClass:"overlay",style:e.loader},[a("img",{attrs:{src:"/static/assets/loading.gif"}})])],2)},staticRenderFns:[]};var xe=a("VU/8")(we,ke,!1,function(e){a("2cHC")},"data-v-3f24a77e",null).exports,Se={name:"articleState",data:function(){return{list:[],modifying:null,newState:"",searchState:"",modState:"",insert:!0,loader:null,timmer:null,isSending:!1}},methods:{setMod:function(e){this.modState=e.nombre,this.modifying=e},save:function(){var e=this;if(this.$root.blur(),this.isSending=!0,this.newState=w(this.newState),b(this.newState))return this.isSending=!1,void this.$root.alert({text:"El nombre del estado no puede estar vacio"});this.$root.confirm({onCancel:function(){return e.isSending=!1},text:"¿Desea agregar el estado "+this.newState+"?",callback:function(){e.$root.axios.put("/article/state",v()({nombre:e.newState})).then(function(t){200===t.data.code?(e.newState="",e.$root.window({message:"Estado creado exitosamente",type:"success"}),e.newSearch()):e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})},buttons:{yes:"Si",no:"No"}})},newSearch:function(){this.modifying=null,this.modState="",this.list=[],this.search()},search:function(){var e=this;this.isSending=!0;var t={};b(this.searchState)||(t.nombre=w(this.searchState)),this.list.length>0&&(t.last=this.list[this.list.length-1]._id),this.$root.axios.get("/article/state",{params:t}).then(function(t){200===t.data.code?e.list=e.list.concat(t.data.message):e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})},modify:function(){var e=this;this.isSending=!0,this.modState=w(this.modState),b(this.modState)?this.$root.alert({text:"El nombre del estado no puede estar vacio"}):this.$root.confirm({onCancel:function(){return e.isSending=!1},text:"¿Desea cambiar el nombre del estado a "+this.modState+"?",callback:function(){e.$root.axios.patch("/article/state",v()({nombre:e.modState,_id:e.modifying._id})).then(function(t){200===t.data.code?e.$root.window({message:"Estado actualizado exitosamente",type:"success"}):e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})},buttons:{yes:"Si",no:"No"}})}},watch:{isSending:function(e){var t=this;this.timmer&&clearTimeout(this.timmer),e?(this.loader="display: block;",this.timmer=setTimeout(function(){t.loader="display: block; opacity: 1"},10)):(this.loader="display: block; opacity: 0",this.timmer=setTimeout(function(){t.loader=null},250))}}},$e={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper"},[a("h1",{directives:[{name:"show",rawName:"v-show",value:e.insert,expression:"insert"}]},[e._v("\n    Añadir un nuevo estado para un articulo\n  ")]),e._v(" "),a("h1",{directives:[{name:"show",rawName:"v-show",value:!e.insert,expression:"!insert"}]},[e._v("\n    Buscar un estado para un articulo\n  ")]),e._v(" "),a("hr"),e._v(" "),a("br"),e._v(" "),a("input",{attrs:{type:"button",value:"Presione para "+(e.insert?"Buscar":"Guardar")},on:{click:function(t){e.insert=!e.insert}}}),e._v(" "),a("form",{directives:[{name:"show",rawName:"v-show",value:e.insert,expression:"insert"}],on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[a("label",[a("span",[e._v("Nombre")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newState,expression:"newState"}],attrs:{type:"text",placeholder:"Nombre del estado"},domProps:{value:e.newState},on:{input:function(t){t.target.composing||(e.newState=t.target.value)}}})]),e._v(" "),a("input",{attrs:{type:"submit",value:"Guardar"}})]),e._v(" "),a("form",{directives:[{name:"show",rawName:"v-show",value:!e.insert,expression:"!insert"}],on:{submit:function(t){return t.preventDefault(),e.newSearch(t)}}},[a("label",[a("span",[e._v("Nombre")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchState,expression:"searchState"}],attrs:{type:"text",placeholder:"Nombre del estado"},domProps:{value:e.searchState},on:{input:function(t){t.target.composing||(e.searchState=t.target.value)}}})]),e._v(" "),a("input",{attrs:{type:"submit",value:"Buscar"}})]),e._v(" "),a("br"),e._v(" "),a("hr"),e._v(" "),e.modifying?[a("form",{on:{submit:function(t){return t.preventDefault(),e.modify(t)}}},[a("label",[a("span",[e._v("Nombre")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.modState,expression:"modState"}],attrs:{type:"text",placeholder:"Nombre del estado"},domProps:{value:e.modState},on:{input:function(t){t.target.composing||(e.modState=t.target.value)}}})]),e._v(" "),a("input",{attrs:{type:"submit",value:"Modificar"}})])]:e.list.length>0?[a("div",{staticClass:"state-list"},[e._l(e.list,function(t){return a("div",{key:t._id,staticClass:"state"},[a("p",{staticClass:"header"},[e._v(e._s(t.nombre))]),e._v(" "),a("div",[a("a",{on:{click:function(a){return a.preventDefault(),e.setMod(t)}}},[e._v("Modificar")])])])}),e._v(" "),a("input",{attrs:{type:"button",value:"Buscar mas"},on:{click:e.search}})],2)]:[a("p",[e._v("No se han encontrado registros")])],e._v(" "),a("div",{staticClass:"overlay",style:e.loader},[a("img",{attrs:{src:"/static/assets/loading.gif"}})])],2)},staticRenderFns:[]};var Ce=a("VU/8")(Se,$e,!1,function(e){a("p7dK")},"data-v-10a39900",null).exports,Ne={name:"articleAdd",data:function(){return{marks:[],categories:[],states:[],nombre:"",serial:"",mark:"",category:"",state:"",isSending:!1,loader:null,timmer:null}},methods:{send:function(){var e=this;return this.$root.blur(),this.isSending=!0,this.category=w(this.category),this.serial=w(this.serial),this.nombre=w(this.nombre),this.state=w(this.state),this.mark=w(this.mark),this.validCategory?this.validState?this.validMark?b(this.serial)?(this.isSending=!1,void this.$root.alert({text:"El serial no puede estar vacio"})):void this.$root.confirm({onCancel:function(){return e.isSending=!1},text:"¿Desea agregar el articulo "+this.nombre+" con el serial "+this.serial+"?",buttons:{yes:"Si",no:"No"},callback:function(){e.$root.axios.put("/article",v()({category:e.category,nombre:e.nombre,serial:e.serial,state:e.state,mark:e.mark})).then(function(t){200===t.data.code?(e.category="",e.nombre="",e.serial="",e.state="",e.mark="",e.$root.window({type:"success",message:t.data.message})):e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})}}):(this.isSending=!1,void this.$root.alert({text:"Debe elegir una marca valida"})):(this.isSending=!1,void this.$root.alert({text:"Debe elegir un estado valido"})):(this.isSending=!1,void this.$root.alert({text:"Debe elegir una categoria valida"}))},getMarks:function(){var e=this;this.$root.axios.get("/mark",{params:{all:!0}}).then(function(t){200===t.data.code?e.marks=t.data.message:e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})},getCategories:function(){var e=this;this.$root.axios.get("/category",{params:{all:!0}}).then(function(t){200===t.data.code?e.categories=t.data.message:e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})},getStates:function(){var e=this;this.$root.axios.get("/article/state",{params:{all:!0}}).then(function(t){200===t.data.code?e.states=t.data.message:e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})}},computed:{validState:function(){var e=!1,t=!0,a=!1,n=void 0;try{for(var i,r=o()(this.states);!(t=(i=r.next()).done);t=!0){if(i.value._id==this.state){e=!0;break}}}catch(e){a=!0,n=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw n}}return e},validMark:function(){var e=!1,t=!0,a=!1,n=void 0;try{for(var i,r=o()(this.marks);!(t=(i=r.next()).done);t=!0){if(i.value._id==this.mark){e=!0;break}}}catch(e){a=!0,n=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw n}}return e},validCategory:function(){var e=!1,t=!0,a=!1,n=void 0;try{for(var i,r=o()(this.categories);!(t=(i=r.next()).done);t=!0){if(i.value._id==this.category){e=!0;break}}}catch(e){a=!0,n=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw n}}return e}},watch:{isSending:function(e){var t=this;this.timmer&&clearTimeout(this.timmer),e?(this.loader="display: block;",this.timmer=setTimeout(function(){t.loader="display: block; opacity: 1"},10)):(this.loader="display: block; opacity: 0",this.timmer=setTimeout(function(){t.loader=null},250))}},activated:function(){this.getStates(),this.getCategories(),this.getMarks()}},Ae={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper"},[a("h1",[e._v("\n    Agregar articulos\n  ")]),e._v(" "),a("hr"),e._v(" "),a("form",{on:{submit:function(t){return t.preventDefault(),e.send(t)}}},[a("label",[a("span",[e._v("\n        Nombre\n      ")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.nombre,expression:"nombre"}],attrs:{type:"text",placeholder:"Nombre del articulo",disabled:e.isSending},domProps:{value:e.nombre},on:{input:function(t){t.target.composing||(e.nombre=t.target.value)}}})]),e._v(" "),a("label",[a("span",[e._v("\n        Serial\n      ")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.serial,expression:"serial"}],attrs:{type:"text",placeholder:"Serial del articulo",disabled:e.isSending},domProps:{value:e.serial},on:{input:function(t){t.target.composing||(e.serial=t.target.value)}}})]),e._v(" "),a("label",[a("span",[e._v("\n        Categoria\n      ")]),e._v(" "),a("br"),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.category,expression:"category"}],class:{error:!e.validCategory},attrs:{disabled:e.isSending},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.category=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v("Elige una opcion")]),e._v(" "),e._l(e.categories,function(t){return a("option",{key:t._id,domProps:{value:t._id}},[e._v(e._s(t.nombre))])})],2)]),e._v(" "),a("label",[a("span",[e._v("\n        Marca\n      ")]),e._v(" "),a("br"),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.mark,expression:"mark"}],class:{error:!e.validMark},attrs:{disabled:e.isSending},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.mark=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v("Elige una opcion")]),e._v(" "),e._l(e.marks,function(t){return a("option",{key:t._id,domProps:{value:t._id}},[e._v(e._s(t.nombre))])})],2)]),e._v(" "),a("label",[a("span",[e._v("\n        Estado\n      ")]),e._v(" "),a("br"),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.state,expression:"state"}],class:{error:!e.validState},attrs:{disabled:e.isSending},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.state=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v("Elige una opcion")]),e._v(" "),e._l(e.states,function(t){return a("option",{key:t._id,domProps:{value:t._id}},[e._v(e._s(t.nombre))])})],2)]),e._v(" "),a("input",{attrs:{type:"submit",value:"Guardar",disabled:e.isSending}})]),e._v(" "),a("div",{staticClass:"overlay",style:e.loader},[a("img",{attrs:{src:"/static/assets/loading.gif"}})])])},staticRenderFns:[]};var De=a("VU/8")(Ne,Ae,!1,function(e){a("2To6")},"data-v-6b9d989b",null).exports,Pe={name:"articleList",data:function(){return{marks:[],categories:[],states:[],list:[],looking:{nombre:"",serial:"",mark:"",category:"",state:""},modify:null,isSending:!1,loader:null,timmer:null}},methods:{editName:function(e){var t=this;this.$root.prompt({text:"Indique el nuevo nombre del articulo",placeholder:"Nuevo nombre",buttons:{yes:"Cambiar"},callback:function(a){(a=w(a))!=e.nombre?(t.isSending=!0,t.$root.axios.patch("/article",v()({nombre:a,_id:e._id})).then(function(n){200===n.data.code?e.nombre=a:t.$root.window({message:n.data.message,type:"error"})}).catch(function(e){t.$root.window({message:e,type:"error"})}).finally(function(){t.isSending=!1})):t.$root.alert({text:"El nombre es el mismo"})}})},editSerial:function(e){var t=this;this.$root.prompt({text:"Indique el nuevo serial del articulo",placeholder:"Nuevo serial",buttons:{yes:"Cambiar"},callback:function(a){a=w(a),b(a)?t.$root.alert({text:"El serial no puede estar vacio"}):a!=e.serial?(t.isSending=!0,t.$root.axios.patch("/article",v()({serial:a,_id:e._id})).then(function(n){200===n.data.code?e.serial=a:t.$root.window({message:n.data.message,type:"error"})}).catch(function(e){t.$root.window({message:e,type:"error"})}).finally(function(){t.isSending=!1})):t.$root.alert({text:"El serial es el mismo"})}})},newSearch:function(){this.list=[],this.search()},search:function(){var e=this;this.isSending=!0;var t={};for(var a in this.looking)b(this.looking[a])||(t[a]=w(this.looking[a]));this.list.length>0&&(t.last=this.list[this.list.length-1]._id),this.$root.axios.get("/article",{params:t}).then(function(t){200===t.data.code?e.list=e.list.concat(t.data.message):e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})},getMarks:function(){var e=this;this.$root.axios.get("/mark",{params:{all:!0}}).then(function(t){200===t.data.code?e.marks=t.data.message:e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})},getCategories:function(){var e=this;this.$root.axios.get("/category",{params:{all:!0}}).then(function(t){200===t.data.code?e.categories=t.data.message:e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})},getStates:function(){var e=this;this.$root.axios.get("/article/state",{params:{all:!0}}).then(function(t){200===t.data.code?e.states=t.data.message:e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})}},watch:{isSending:function(e){var t=this;this.timmer&&clearTimeout(this.timmer),e?(this.loader="display: block;",this.timmer=setTimeout(function(){t.loader="display: block; opacity: 1"},10)):(this.loader="display: block; opacity: 0",this.timmer=setTimeout(function(){t.loader=null},250))}},filters:{name:function(e){return console.log(e),b(e)?"Sin Nombre":e},datetime:function(e){return k(e)+" "+x(e)}},activated:function(){this.getStates(),this.getCategories(),this.getMarks(),this.newSearch()}},Me={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper"},[a("h1",[e._v("\n    Buscar articulos\n  ")]),e._v(" "),a("hr"),e._v(" "),a("form",{on:{submit:function(t){return t.preventDefault(),e.newSearch(t)}}},[a("label",[a("span",[e._v("\n        Nombre\n      ")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.looking.nombre,expression:"looking.nombre"}],attrs:{type:"text",placeholder:"Nombre del articulo",disabled:e.isSending},domProps:{value:e.looking.nombre},on:{input:function(t){t.target.composing||e.$set(e.looking,"nombre",t.target.value)}}})]),e._v(" "),a("label",[a("span",[e._v("\n        Serial\n      ")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.looking.serial,expression:"looking.serial"}],attrs:{type:"text",placeholder:"Serial del articulo",disabled:e.isSending},domProps:{value:e.looking.serial},on:{input:function(t){t.target.composing||e.$set(e.looking,"serial",t.target.value)}}})]),e._v(" "),a("label",[a("span",[e._v("\n        Categoria\n      ")]),e._v(" "),a("br"),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.looking.category,expression:"looking.category"}],attrs:{disabled:e.isSending},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.looking,"category",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[e._v("Elige una opcion")]),e._v(" "),e._l(e.categories,function(t){return a("option",{key:t._id,domProps:{value:t._id}},[e._v(e._s(t.nombre))])})],2)]),e._v(" "),a("label",[a("span",[e._v("\n        Marca\n      ")]),e._v(" "),a("br"),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.looking.mark,expression:"looking.mark"}],attrs:{disabled:e.isSending},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.looking,"mark",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[e._v("Elige una opcion")]),e._v(" "),e._l(e.marks,function(t){return a("option",{key:t._id,domProps:{value:t._id}},[e._v(e._s(t.nombre))])})],2)]),e._v(" "),a("label",[a("span",[e._v("\n        Estado\n      ")]),e._v(" "),a("br"),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.looking.state,expression:"looking.state"}],attrs:{disabled:e.isSending},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.looking,"state",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[e._v("Elige una opcion")]),e._v(" "),e._l(e.states,function(t){return a("option",{key:t._id,domProps:{value:t._id}},[e._v(e._s(t.nombre))])})],2)]),e._v(" "),a("input",{attrs:{type:"submit",value:"Buscar",disabled:e.isSending}})]),e._v(" "),a("br"),e._v(" "),a("hr"),e._v(" "),e.modify?void 0:e.list.length>0?[a("div",{staticClass:"list"},[e._l(e.list,function(t){return a("div",{key:t._id,staticClass:"article"},[a("p",{staticClass:"header"},[e._v("\n        "+e._s(t.category.nombre)+" "+e._s(t.mark.nombre)+"\n      ")]),e._v(" "),a("span",{staticClass:"fecha",attrs:{title:"Fecha de adicion"}},[e._v("\n        "+e._s(e._f("datetime")(t.created_date))+"\n      ")]),e._v(" "),a("span",{staticClass:"editable",on:{click:function(a){return e.editName(t)}}},[e._v("\n        "+e._s(e._f("name")(t.nombre))+"\n      ")]),e._v(" "),a("span",{staticClass:"editable",on:{click:function(a){return e.editSerial(t)}}},[e._v("\n        Serial: "+e._s(t.serial)+"\n      ")]),e._v(" "),a("span",[e._v("\n        Estado: "+e._s(t.state.nombre)+"\n      ")]),e._v(" "),a("br"),e._v(" "),a("router-link",{attrs:{to:"/article/assign/"+t.serial}},[e._v("Gestionar")])],1)}),e._v(" "),a("input",{attrs:{type:"button",value:"Buscar mas"},on:{click:e.search}})],2)]:[a("p",[e._v("No se han encontrado registros")])],e._v(" "),a("div",{staticClass:"overlay",style:e.loader},[a("img",{attrs:{src:"/static/assets/loading.gif"}})])],2)},staticRenderFns:[]};var Ee=a("VU/8")(Pe,Me,!1,function(e){a("+KFq")},"data-v-d0d8515a",null).exports,Te={name:"articleAssign",data:function(){return{departments:[],states:[],isSending:!1,loader:null,timmer:null,department:"",state:"",search:"",article:null,serial:null,cedula:null,puesto:null,note:null}},methods:{manage:function(){var e=this;if(this.isSending=!0,this.note=w(this.note?this.note:""),!this.validState)return this.isSending=!1,this.$root.alert({text:"Debe indicar en que estado se encuentra el objeto"});var t="";if(b(this.department))this.department="",this.cedula=null,this.puesto=null;else{if(!this.departmentExists(this.department))return this.isSending=!1,this.$root.alert({text:"Departamento no existe"});if(isNaN(this.puesto)&&(this.puesto=null),isNaN(this.cedula)&&(this.cedula=null),isNaN(this.puesto)&&this.cedula<5e5)return this.isSending=!1,this.$root.alert({text:"Debe indicar donde sera asignado el articulo"})}t=this.department?"¿Desa asignar el objeto en el departamento seleccionado?":"¿Desea inventariar el objeto con el estatus indicado?",this.$root.confirm({text:t,onCancel:function(){return e.isSending=!1},callback:function(){e.$root.axios.put("/inventory",v()({article:e.article._id,department:e.department,state:e.state,cedula:e.cedula,puesto:e.puesto,note:e.note})).then(function(t){if(200!=t.data.code)return e.$root.window({type:"error",message:t.data.message});e.$root.window({type:"success",message:t.data.message}),e.cedula=null,e.puesto=null,e.department="",e.article.state=e.getStateObject(e.state)}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){return e.isSending=!1})}})},getStateObject:function(e){var t={_id:"",nombre:""},a=!0,n=!1,i=void 0;try{for(var r,s=o()(this.states);!(a=(r=s.next()).done);a=!0){var l=r.value;if(l._id==e){t=l;break}}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}return t},departmentExists:function(e){var t=!1,a=!0,n=!1,i=void 0;try{for(var r,s=o()(this.departments);!(a=(r=s.next()).done);a=!0){r.value._id==e&&(t=!0)}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}return t},getArticle:function(){var e=this;b(this.serial)?this.article=null:this.$root.axios.get("/article",{params:{serial:this.serial}}).then(function(t){200===t.data.code?e.article=t.data.message[0]:e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})},getStates:function(){var e=this;this.$root.axios.get("/article/state",{params:{all:!0}}).then(function(t){200===t.data.code?e.states=t.data.message:e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})},getDepartments:function(){var e=this;this.$root.axios.get("/department",{params:{all:!0}}).then(function(t){200===t.data.code?e.departments=t.data.message:e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})}},computed:{assign:function(){var e=!1,t=!0,a=!1,n=void 0;try{for(var i,r=o()(this.departments);!(t=(i=r.next()).done);t=!0){if(i.value._id==this.department){e=!0;break}}}catch(e){a=!0,n=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw n}}return e},validState:function(){var e=!1,t=!0,a=!1,n=void 0;try{for(var i,r=o()(this.states);!(t=(i=r.next()).done);t=!0){if(i.value._id==this.state){e=!0;break}}}catch(e){a=!0,n=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw n}}return e}},watch:{isSending:function(e){var t=this;this.timmer&&clearTimeout(this.timmer),e?(this.loader="display: block;",this.timmer=setTimeout(function(){t.loader="display: block; opacity: 1"},10)):(this.loader="display: block; opacity: 0",this.timmer=setTimeout(function(){t.loader=null},250))},serial:function(e,t){e!=t&&this.getArticle()}},filters:{name:function(e){return b(e)?"Sin Nombre":e},datetime:function(e){return k(e)+" "+x(e)}},activated:function(){this.serial=this.$route.params.serial,this.getStates(),this.getDepartments()}},Be={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper"},[a("h1",[e._v("\n    Gestion de articulos\n  ")]),e._v(" "),a("hr"),e._v(" "),e.serial?e.article?[a("div",{staticClass:"article"},[a("p",{staticClass:"header"},[e._v("\n        "+e._s(e.article.category.nombre)+" "+e._s(e.article.mark.nombre)+"\n      ")]),e._v(" "),a("span",{staticClass:"fecha",attrs:{title:"Fecha de adicion"}},[e._v("\n        "+e._s(e._f("datetime")(e.article.created_date))+"\n      ")]),e._v(" "),a("span",[e._v("\n        "+e._s(e._f("name")(e.article.nombre))+"\n      ")]),e._v(" "),a("span",[e._v("\n        Serial: "+e._s(e.article.serial)+"\n      ")]),e._v(" "),a("span",[e._v("\n        Ultimo estado registrado: "+e._s(e.article.state.nombre)+"\n      ")])]),e._v(" "),a("br"),e._v(" "),a("form",{on:{submit:function(t){return t.preventDefault(),e.manage(t)}}},[a("label",[a("span",[e._v("\n          Estado actual\n        ")]),e._v(" "),a("br"),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.state,expression:"state"}],class:{error:!e.validState},attrs:{disabled:e.isSending},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.state=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v("Elige una opcion")]),e._v(" "),e._l(e.states,function(t,n){return a("option",{key:t._id,domProps:{value:t._id}},[e._v(e._s(t.nombre))])})],2)]),e._v(" "),a("label",[a("span",[e._v("\n          Departamento\n        ")]),e._v(" "),a("br"),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.department,expression:"department"}],attrs:{disabled:e.isSending},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.department=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v("No asignar")]),e._v(" "),e._l(e.departments,function(t){return a("option",{key:t._id,domProps:{value:t._id,selected:t._id==e.article.state._id}},[e._v(e._s(t.nombre))])})],2)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.assign,expression:"assign"}]},[a("label",[a("span",[e._v("\n            Cedula de la persona a asignar\n          ")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.cedula,expression:"cedula"}],attrs:{type:"number",placeholder:"Cedula"},domProps:{value:e.cedula},on:{input:function(t){t.target.composing||(e.cedula=t.target.value)}}})]),e._v(" "),a("label",[a("span",[e._v("\n            Puesto al que se asigno\n          ")]),e._v(" "),a("br"),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.puesto,expression:"puesto"}],attrs:{type:"number",placeholder:"Puesto"},domProps:{value:e.puesto},on:{input:function(t){t.target.composing||(e.puesto=t.target.value)}}})])]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.note,expression:"note"}],attrs:{placeholder:"Nota"},domProps:{value:e.note},on:{input:function(t){t.target.composing||(e.note=t.target.value)}}}),e._v(" "),a("br"),e._v(" "),a("input",{attrs:{type:"submit",name:"Gestionar"}})])]:[a("p",[e._v("\n      No se ha podido encontrar el articulo\n    ")])]:[a("p",[e._v("\n      No se ha buscado ningun articulo\n    ")])],e._v(" "),a("div",{staticClass:"overlay",style:e.loader},[a("img",{attrs:{src:"/static/assets/loading.gif"}})])],2)},staticRenderFns:[]};var Ve=a("VU/8")(Te,Be,!1,function(e){a("HVLZ")},"data-v-35a66224",null).exports,Fe={name:"Report",data:function(){return{lang:(e={_language:"English",_months:_,_days:y.map(function(e){return e.substr(0,3)}),rtl:!1,ymd:!1,yearSuffix:""},e._monthsAbbr=e._months.map(function(e){return e.substr(0,3)}),e.months=e._months,e.monthsAbbr=e._monthsAbbr,e.days=e._days,e),result:[],marks:[],categories:[],departments:[],states:[],department:"",serial:"",mark:"",category:"",state:"",isSending:!1,loader:null,timmer:null,assigned:"both",date_min:null,date_max:null};var e},methods:{search:function(){var e=this;this.isSending=!0,this.result=[],this.$root.axios.get("/report",{params:{department:this.department,mark:this.mark,state:this.state,serial:this.serial,category:this.category,assigned:this.assigned,date_max:this.date_max,date_min:this.date_min}}).then(function(t){200===t.data.code?e.result=t.data.message:e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})},exportCSV:function(){$(this.result,"articleReport.csv")},getMarks:function(){var e=this;this.$root.axios.get("/mark",{params:{all:!0}}).then(function(t){200===t.data.code?e.marks=t.data.message:e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})},getCategories:function(){var e=this;this.$root.axios.get("/category",{params:{all:!0}}).then(function(t){200===t.data.code?e.categories=t.data.message:e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})},getStates:function(){var e=this;this.$root.axios.get("/article/state",{params:{all:!0}}).then(function(t){200===t.data.code?e.states=t.data.message:e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})},getDepartments:function(){var e=this;this.$root.axios.get("/department",{params:{all:!0}}).then(function(t){200===t.data.code?e.departments=t.data.message:e.$root.window({message:t.data.message,type:"error"})}).catch(function(t){e.$root.window({message:t,type:"error"})}).finally(function(){e.isSending=!1})}},watch:{isSending:function(e){var t=this;this.timmer&&clearTimeout(this.timmer),e?(this.loader="display: block;",this.timmer=setTimeout(function(){t.loader="display: block; opacity: 1"},10)):(this.loader="display: block; opacity: 0",this.timmer=setTimeout(function(){t.loader=null},250))}},computed:{resultHeaders:function(){return h()(this.result.length>0?this.result[0]:[])}},components:{Datepicker:a("IC97").a},activated:function(){this.getDepartments(),this.getStates(),this.getCategories(),this.getMarks()}},Ue={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Reporte por articulo")]),e._v(" "),a("hr"),e._v(" "),a("form",{on:{submit:function(t){return t.preventDefault(),e.search(t)}}},[a("label",[a("span",[e._v("Serial")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.serial,expression:"serial"}],attrs:{type:"text",placeholder:"Serial del articulo",disabled:e.isSending},domProps:{value:e.serial},on:{input:function(t){t.target.composing||(e.serial=t.target.value)}}})]),e._v(" "),a("label",[a("span",[e._v("Bucar asignado")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.assigned,expression:"assigned"}],attrs:{disabled:e.isSending},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.assigned=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"both"}},[e._v("Asignado y no asignado")]),e._v(" "),a("option",{attrs:{value:"no"}},[e._v("No asignado")]),e._v(" "),a("option",{attrs:{value:"yes"}},[e._v("Asignado")])])]),e._v(" "),a("label",[a("span",[e._v("\n        Categoria\n      ")]),e._v(" "),a("br"),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.category,expression:"category"}],attrs:{disabled:e.isSending},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.category=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v("Elige una opcion")]),e._v(" "),e._l(e.categories,function(t){return a("option",{key:t._id,domProps:{value:t._id}},[e._v(e._s(t.nombre))])})],2)]),e._v(" "),a("label",[a("span",[e._v("\n        Marca\n      ")]),e._v(" "),a("br"),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.mark,expression:"mark"}],attrs:{disabled:e.isSending},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.mark=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v("Elige una opcion")]),e._v(" "),e._l(e.marks,function(t){return a("option",{key:t._id,domProps:{value:t._id}},[e._v(e._s(t.nombre))])})],2)]),e._v(" "),a("label",[a("span",[e._v("\n        Estado\n      ")]),e._v(" "),a("br"),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.state,expression:"state"}],attrs:{disabled:e.isSending},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.state=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v("Elige una opcion")]),e._v(" "),e._l(e.states,function(t){return a("option",{key:t._id,domProps:{value:t._id}},[e._v(e._s(t.nombre))])})],2)]),e._v(" "),a("label",[a("span",[e._v("\n          Departamento\n        ")]),e._v(" "),a("br"),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.department,expression:"department"}],attrs:{disabled:e.isSending},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.department=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v("Elige una opcion")]),e._v(" "),e._l(e.departments,function(t){return a("option",{key:t._id,domProps:{value:t._id}},[e._v(e._s(t.nombre))])})],2)]),e._v(" "),a("br"),e._v(" "),a("span",[e._v("Desde:")]),e._v(" "),a("datepicker",{attrs:{placeholder:"Desde",inline:!0,"clear-button":!0,"monday-first":!0,language:e.lang},model:{value:e.date_min,callback:function(t){e.date_min=t},expression:"date_min"}}),e._v(" "),a("br"),e._v(" "),a("span",[e._v("Hasta:")]),e._v(" "),a("datepicker",{attrs:{placeholder:"Hasta",inline:!0,"clear-button":!0,"monday-first":!0,language:e.lang},model:{value:e.date_max,callback:function(t){e.date_max=t},expression:"date_max"}}),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("input",{attrs:{type:"submit",value:"Generar reporte"}}),e._v(" "),a("br")],1),e._v(" "),a("br"),e._v(" "),a("hr"),e._v(" "),a("input",{directives:[{name:"show",rawName:"v-show",value:e.result.length>0,expression:"result.length > 0"}],attrs:{type:"button",value:"Exportar"},on:{click:e.exportCSV}}),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.result.length>0,expression:"result.length > 0"}],staticClass:"results"},[a("div",{staticClass:"divTable redTable"},[a("div",{staticClass:"divTableHeading"},[a("div",{staticClass:"divTableRow"},e._l(e.resultHeaders,function(t){return a("div",{key:t,staticClass:"divTableHead"},[e._v(e._s(t))])}),0)]),e._v(" "),a("div",{staticClass:"divTableBody"},e._l(e.result,function(t){return a("div",{staticClass:"divTableRow"},e._l(t,function(t){return a("div",{staticClass:"divTableCell"},[e._v(e._s(t))])}),0)}),0)])]),e._v(" "),a("div",{staticClass:"overlay",style:e.loader},[a("img",{attrs:{src:"/static/assets/loading.gif"}})])])},staticRenderFns:[]};var Re=a("VU/8")(Fe,Ue,!1,function(e){a("La/B")},"data-v-880093a2",null).exports;c.a.use(X.a);var Oe=new X.a({mode:"history",routes:[{path:"/",name:"index",component:ee},{path:"/person/create",name:"personCreate",component:re},{path:"/person/modify",name:"personModify",component:le},{path:"/user/create",name:"userCreate",component:ue},{path:"/user/modify",name:"userModify",component:pe},{path:"/category",name:"categoryView",component:ge},{path:"/mark",name:"markView",component:be},{path:"/department",name:"departmentView",component:xe},{path:"/article/state",name:"articleState",component:Ce},{path:"/article/add",name:"articleAdd",component:De},{path:"/article/assign",name:"articleAssign",component:Ve},{path:"/article/assign/:serial",name:"articleAssign",component:Ve},{path:"/article/list",name:"articleList",component:Ee},{path:"/report",name:"Report",component:Re},{path:"*",name:"notFound",component:ae}]}),Le=a("Zrlr"),je=a.n(Le),Ge=a("wxAW"),qe=a.n(Ge),He=function(){function e(t){je()(this,e),this.logged=!1,t&&this.Build(t)}return qe()(e,[{key:"Build",value:function(e){console.log(e),this.logged=e.logged,this.nick=e.nick,this.access=l()([],e.access),this.id=e._id}}]),e}(),Ie=a("mtWM"),ze=a.n(Ie);c.a.config.productionTip=!1,c.a.use(u.a),u.a.config("7d"),new c.a({el:"#app",data:function(){return{axios:ze.a,api:{url:"http://localhost",port:8080},scrollTop:!1,alerts:[],prompts:[],confirms:[],user:new He,windows:[],routes:[{url:"/person/create",name:"Ingresar Persona"},{url:"/person/modify",name:"Ver y Modificar Persona"},{url:"/user/create",name:"Crear usuario"},{url:"/user/modify",name:"Ver y Modificar usuario"},{url:"/category",name:"Categorias"},{url:"/department",name:"Departamento"},{url:"/mark",name:"Marcas"},{url:"/article/state",name:"Estado de Articulos"},{url:"/article/add",name:"Agregar Articulo"},{url:"/article/list",name:"Ver Articulos"},{url:"/article/assign",name:"Gestion de articulos"},{url:"/report",name:"Reportes"}]}},methods:{blur:function(){document.activeElement&&document.activeElement.blur()},alert:function(e){this.blur(),e.id=S(15),this.alerts.push(e)},removeAlert:function(e){this.alerts=this.alerts.filter(function(t){return t.id!=e})},window:function(e){e.id=S(15),this.windows.push(e)},removeWindow:function(){this.windows=[]},confirm:function(e){this.blur(),e.id=S(15),this.confirms.push(e)},removeConfirm:function(e){this.confirms=this.confirms.filter(function(t){return t.id!=e})},prompt:function(e){this.blur(),e.id=S(15),isNaN(e.maxlength)&&(e.maxlength=null),b(e.placeholder)&&(e.placeholder=null),this.prompts.push(e)},removePrompt:function(e){this.prompts=this.prompts.filter(function(t){return t.id!=e})},generateToken:function(){this.axios.get("/token").then(function(e){200===e.data.code?window.localStorage.setItem("token",e.data.message):console.error(e.data.message)})},loadTokenUser:function(){var e=this;this.axios.get("/user/token").then(function(t){200===t.data.code?e.user.Build(l()({logged:!0},t.data.message)):console.error("Error cargando usuario",t.data)})}},watch:{"user.logged":function(e){e||(this.user.access=[])}},computed:{apiRoute:function(){return this.api.url+":"+this.api.port+"/api"},routeAvailable:function(){var e=this._route.fullPath;if(console.log(e),["/","/#/"].indexOf(e)>-1)return!0;var t=e.split("/");t.length>3&&(t.length=3,e=t.join("/"));var a=!1,n=!0,i=!1,r=void 0;try{for(var s,l=o()(this.user.access);!(n=(s=l.next()).done);n=!0){if(s.value.url==e){a=!0;break}}}catch(e){i=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(i)throw r}}return a}},router:Oe,components:{App:Z},template:"<App/>",created:function(){var e=this;this.axios=this.axios.create({baseURL:this.apiRoute,headers:{"Content-Type":"application/json"}}),this.axios.interceptors.request.use(function(e){var t=window.localStorage.getItem("token");return t=t||"0",e.headers.Authorization=t,e},function(e){return i.a.reject(e)}),this.axios.interceptors.response.use(function(t){return 200!==t.status||200!==t.data.code?t:t.data.tokenExpired?(e.generateToken(),t):t});var t=window.localStorage.getItem("token");b(t)||"undefined"===t?this.generateToken():this.loadTokenUser()},mounted:function(){var e=this;console.log(this);var t=document.querySelector(".screen"),a=function(){t.remove()};t.addEventListener("webkitAnimationEnd",function(){a()}),t.addEventListener("animationend",function(){a()}),setTimeout(function(){t.classList.add("fadeOut")},200),window.addEventListener("scroll",function(){e.scrollTop=window.pageYOffset>150})}})},P8fG:function(e,t){},R870:function(e,t){},UBPM:function(e,t){},aLxa:function(e,t){},"gCw+":function(e,t){},p7dK:function(e,t){},sm2C:function(e,t){},szlX:function(e,t){},"v++w":function(e,t){},yPYD:function(e,t){},yvyk:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.e395c8aeb34f4b6e15c4.js.map